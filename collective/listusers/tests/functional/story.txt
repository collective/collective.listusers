User story
==========

A scripted walk-through of basic features of collective.listusers.

Prepare
-------

Start by logging-in so we can access @@listusers.

    Go to login screen.
    >>> browser.open(portal.absolute_url() + '/login')

    Fill in your credentials.
    >>> browser.getControl(name='__ac_name').value = TEST_USER_NAME
    >>> browser.getControl(name='__ac_password').value = TEST_USER_PASSWORD

    Click Login button.
    >>> browser.getControl(name='submit').click()

    Are we logged in?
    >>> "You are now logged in" in browser.contents
    True


List some users
---------------

    Go to List Users form.
    >>> browser.open(portal.absolute_url() + '/@@listusers')

    Select a Group to list users from.
    >>> import pdb;pdb.set_trace()
    >>> menu = browser.getControl('Add portlet', index=0).control
    >>> menu.value = ['/++contextportlets++plone.leftcolumn/+/portlets.Recent']

Clear search criteria
---------------------

    TODO

Test validation
---------------

    TODO